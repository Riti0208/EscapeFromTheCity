/****************************************************************************
* タイトル:  タイトルの処理
* ファイル名:title.cpp
* 作成者：	 芳崎大地
* 作成日：   2016/06/26
*******************************************************************************/
/*******************************************************************************
* 更新履歴：
*
*******************************************************************************/
/*******************************************************************************
* インクルードファイル
*******************************************************************************/
#include"manager.h"
#include"sky.h"
/*******************************************************************************
* マクロ定義
*******************************************************************************/
/*******************************************************************************
* 構造体の定義
*******************************************************************************/
/*******************************************************************************
* プロトタイプ宣言
*******************************************************************************/
/*******************************************************************************
* グローバル変数
*******************************************************************************/
/*******************************************************************************
* 関数名:void InitTitle()
*
* 引数:  なし
* 戻り値:なし
* 説明 タイトルの初期化処理
*
*******************************************************************************/
void CTitle::Init(){
	CEffectManager::Init(CRenderer::GetDevice(), 10000);
	CScene2D::Create(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f), SCREEN_WIDTH, SCREEN_HEIGHT, "data\\TEXTURE\\titleBg.jpg", COLOR_WHITE);
	logo = CScene2D::Create(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f), SCREEN_WIDTH, SCREEN_HEIGHT, "data\\TEXTURE\\logo.png", COLOR_WHITE);
	CSky::Create();
	a = 1.0f;
	PlaySound(BGM_LABEL_TITLE_0);
}
/*******************************************************************************
* 関数名:void UninitTitle()
*
* 引数:  なし
* 戻り値:なしs
* 説明 タイトルの終了処理
*
*******************************************************************************/
void CTitle::Uninit(){
	StopSound();
	CScene::ReleaseAll();
}
/*******************************************************************************
* 関数名:void UpdateTitle()
*
* 引数:  なし
* 戻り値:なし
* 説明 タイトルの更新処理
*
*******************************************************************************/
void CTitle::Update(){
	a += 0.05f;
	if (logo){
		logo->SetCol(D3DXCOLOR(1.0f, 1.0f, 1.0f, sinf((a)+1) / 4 + 0.5f));
		logo->Update();
	}
	if (CInput::GetKeyboardTrigger(DIK_RETURN) || CInput::GetGamePadTrigger(X_GAME_PAD_START, 0))	{
		CFadeController::SetFade(new CNormalFade, new CGame, 1.0f);
	}
}
/*******************************************************************************
* 関数名:void DrawTitle()
*
* 引数:  なし
* 戻り値:なし
* 説明 タイトルの描画処理
*
*******************************************************************************/
void CTitle::Draw(){
}
